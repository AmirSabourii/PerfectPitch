# دایرکتوری VCها و برنامه‌های استارتاپ خاورمیانه

## آیا APIای وجود دارد؟

### داخل پروژه
- **خیر.** در این پروژه هیچ APIای که لیست VCها یا برنامه‌های استارتاپ (مثل اکسلریتورها) را برگرداند وجود ندارد.
- `programs` در Firestore مربوط به **برنامه‌های سازمان‌ها** (accelerator/bootcamp هر سازمان) است، نه دایرکتوری عمومی سرمایه‌گذاران.
- مسیر `/api/vc-pipeline` برای **تحلیل پیچ** (ریسک/آپساید/قاضی) است، نه برای لیست VCها.

### APIهای خارجی (دنیا)
- **Crunchbase API**: داده‌ی گسترده VC/استارتاپ/roundها دارد، ولی **پولی** است (Enterprise/Applications License) و باید از طریق فروش Crunchbase درخواست دهید.
- **PitchBook** و مشابه: معمولاً پولی و B2B هستند.
- **IncubatorList / OpenVC**: لیست و دیتابیس آنلاین دارند؛ API عمومی شناخته‌شده برای خاورمیانه ارائه نمی‌دهند.

بنابراین برای **دیتابیس اختصاصی سرمایه‌گذاران استارتاپ خاورمیانه**، منبع رایگان و یکپارچه‌ای به شکل API در دسترس نیست.

---

## اسکرپر در لحظه یا یکبار؟

| روش | مزایا | معایب |
|-----|--------|--------|
| **اسکرپر در لحظه** (هر بار درخواست) | همیشه آخرین داده از وب | کند، شکننده با تغییر layout سایت، ریسک بلاک، وابسته به uptime سایت‌های سوم |
| **اسکرپر یکبار/دوره‌ای + دیتابیس** | سریع برای کاربر، پایدار، قابل جستجو و فیلتر، یکبار توسعه | داده فقط به‌اندازه‌ی زمان آخرین اسکرپ به‌روز است |

**توصیه:**  
یک **اسکرپر قوی یکبار (یا دوره‌ای)** بنویسید که:
1. یک بار (یا مثلاً ماهانه) منابع معتبر را اسکرپ کند،
2. خروجی را **نرمال‌سازی** کند (یک فرمت ثابت)،
3. در **دیتابیس** (مثلاً Firestore) بریزد،
4. اپلیکیشن فقط از **API دیتابیس** (مثلاً `GET /api/investor-directory`) بخواند.

نتیجه: دیتابیس از تمام سرمایه‌گذاران/برنامه‌های استارتاپ خاورمیانه که سریع و پایدار در دسترس اپ شماست.

---

## چه چیزی در این پروژه اضافه شده؟

1. **تایپ و اسکیما**  
   - `lib/investorDirectoryTypes.ts`: تایپ‌های TypeScript برای هر رکورد VC/برنامه (نام، کشور، مرحله، صنعت، لینک، …).

2. **دادهٔ اولیه (seed)**  
   - `data/middle-east-investors.json`: نمونه رکوردهای VC و برنامه برای خاورمیانه تا بتوانید ساختار را ببینید و دیتابیس را یک بار پر کنید.

3. **اسکریپت پر کردن دیتابیس**  
   - `scripts/seed-investor-directory.js`: خواندن از فایل JSON بالا و ریختن در کالکشن Firestore به نام `investorDirectory`.  
   - می‌توانید همین اسکریپت را با خروجی اسکرپر (همان فرمت JSON) اجرا کنید تا بعد از هر بار اسکرپ، دیتابیس به‌روز شود.

4. **API خواندن**  
   - `GET /api/investor-directory`: لیست VCها و برنامه‌ها از Firestore با پشتیبانی کوئری ساده (مثلاً فیلتر بر اساس کشور یا نوع).

5. **اسکرپر**  
   - اسکرپر واقعی به سایت‌های شخص ثالث وابسته است و ممکن است با قوانین استفادهٔ آن سایت‌ها محدود شود.  
   - می‌توانید یک اسکریپت Node جداگانه بنویسید (مثلاً با Puppeteer/Playwright یا request+cheerio) که صفحات مشخص را اسکرپ کند و خروجی را در همان فرمت `data/middle-east-investors.json` تولید کند؛ سپس با `seed-investor-directory.js` در Firestore بریزید.  
   - یا در همان اسکرپر بعد از پارس، مستقیم با Firebase Admin در کالکشن `investorDirectory` بنویسید.

---

## جمع‌بندی

- **API آماده برای «همهٔ VCها و برنامه‌های استارتاپ»** در پروژه نبود؛ از بیرون هم فقط گزینه‌های پولی مثل Crunchbase وجود دارد.
- برای **دیتابیس سرمایه‌گذاران استارتاپ خاورمیانه**، بهترین مسیر: **اسکرپر یکبار/دوره‌ای + دیتابیس (مثلاً Firestore) + API خواندن از همین دیتابیس**.
- با تایپ‌ها، seed، اسکریپت seed و API اضافه‌شده، می‌توانید همین الان دیتابیس را با دادهٔ اولیه پر کنید و بعداً با اسکرپر دوره‌ای آن را غنی و به‌روز کنید.
